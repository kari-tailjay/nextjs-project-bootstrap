(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2619:(e,n,t)=>{"use strict";t.d(n,{default:()=>s});var l=t(5155),o=t(2115);let i={slotWidth:2.5,slotLength:5,aisleWidth:6,angles:[90,60,45],turningRadius:6},s=()=>{let[e,n]=(0,o.useState)(null),[t,s]=(0,o.useState)(i),[r,a]=(0,o.useState)([]),[d,p]=(0,o.useState)(null),x=()=>{if(!e||0===e.polygons.length)return void alert("Please upload a valid DXF file with lot boundary.");e.polygons[0].points,e.obstacles.map(e=>({points:e.points})),a([{slots:[],totalSlots:0}]),p(0)},c={fontSize:"1.25rem",fontWeight:"600",marginBottom:"12px"},u={marginBottom:"40px"},h={display:"block",fontWeight:"500",marginBottom:"4px"},g={width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",marginBottom:"16px"},y={backgroundColor:"#111827",color:"#ffffff",padding:"10px 20px",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginRight:"8px"},f={backgroundColor:"#ffffff",color:"#111827",padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginBottom:"8px",marginRight:"8px"},m={...f,backgroundColor:"#111827",color:"#ffffff"};return(0,l.jsxs)("div",{style:{maxWidth:"768px",margin:"0 auto",padding:"40px 20px"},children:[(0,l.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"600",marginBottom:"24px",textAlign:"center"},children:"Parking Lot Layout Designer"}),(0,l.jsxs)("section",{style:u,children:[(0,l.jsx)("h2",{style:c,children:"Upload AutoCAD DXF File"}),(0,l.jsx)("input",{type:"file",accept:".dxf",onChange:e=>{var t;let l=(null==(t=e.target.files)?void 0:t[0])||null;if(l){let e=new FileReader;e.onload=e=>{var t;if("string"==typeof(null==(t=e.target)?void 0:t.result))try{n({polygons:[],obstacles:[],entryPoints:[]}),a([]),p(null)}catch(e){alert("Failed to parse DXF file.")}},e.readAsText(l)}},style:g}),e&&(0,l.jsx)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"6px"},children:(0,l.jsxs)("p",{style:{margin:0,fontSize:"14px"},children:["Parsed ",e.polygons.length," lot boundary polygon(s), ",e.obstacles.length," obstacle(s), and ",e.entryPoints.length," entry/exit point(s)."]})})]}),(0,l.jsxs)("section",{style:u,children:[(0,l.jsx)("h2",{style:c,children:"Design Constraints"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:h,children:"Slot Width (m)"}),(0,l.jsx)("input",{type:"number",step:"0.1",min:"1",value:t.slotWidth,onChange:e=>s({...t,slotWidth:parseFloat(e.target.value)}),style:g,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:h,children:"Slot Length (m)"}),(0,l.jsx)("input",{type:"number",step:"0.1",min:"1",value:t.slotLength,onChange:e=>s({...t,slotLength:parseFloat(e.target.value)}),style:g,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:h,children:"Aisle Width (m)"}),(0,l.jsx)("input",{type:"number",step:"0.1",min:"1",value:t.aisleWidth,onChange:e=>s({...t,aisleWidth:parseFloat(e.target.value)}),style:g,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:h,children:"Allowed Angles (degrees, comma separated)"}),(0,l.jsx)("input",{type:"text",value:t.angles.join(", "),onChange:e=>{let n=e.target.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e));s({...t,angles:n})},style:g,required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:h,children:"Turning Radius (m)"}),(0,l.jsx)("input",{type:"number",step:"0.1",min:"1",value:t.turningRadius,onChange:e=>s({...t,turningRadius:parseFloat(e.target.value)}),style:g,required:!0})]}),(0,l.jsx)("button",{type:"submit",style:y,children:"Generate Layout"})]})]}),r.length>0&&(0,l.jsxs)("section",{style:u,children:[(0,l.jsx)("h2",{style:c,children:"Generated Parking Lot Models"}),(0,l.jsx)("div",{style:{marginBottom:"16px"},children:r.map((e,n)=>(0,l.jsxs)("button",{style:d===n?m:f,onClick:()=>p(n),children:["Model ",n+1," - Slots: ",e.totalSlots]},n))}),null!==d&&(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>{if(null===d)return void alert("No model selected for export.");let e=new Blob([function(e){let n="";return e.forEach(e=>{let t=e.angle*Math.PI/180,l=Math.cos(t),o=Math.sin(t),i=e.bottomLeft,s={x:i.x+e.width*l,y:i.y+e.width*o},r={x:s.x-e.length*o,y:s.y+e.length*l},a={x:i.x-e.length*o,y:i.y+e.length*l};n+="0\nPOLYLINE\n8\nParkingSlots\n66\n1\n70\n1\n0\nVERTEX\n8\nParkingSlots\n10\n".concat(i.x.toFixed(3),"\n20\n").concat(i.y.toFixed(3),"\n30\n0.0\n0\nVERTEX\n8\nParkingSlots\n10\n").concat(s.x.toFixed(3),"\n20\n").concat(s.y.toFixed(3),"\n30\n0.0\n0\nVERTEX\n8\nParkingSlots\n10\n").concat(r.x.toFixed(3),"\n20\n").concat(r.y.toFixed(3),"\n30\n0.0\n0\nVERTEX\n8\nParkingSlots\n10\n").concat(a.x.toFixed(3),"\n20\n").concat(a.y.toFixed(3),"\n30\n0.0\n0\nSEQEND\n")}),"0\nSECTION\n2\nHEADER\n0\nENDSEC\n0\nSECTION\n2\nTABLES\n0\nENDSEC\n0\nSECTION\n2\nBLOCKS\n0\nENDSEC\n0\nSECTION\n2\nENTITIES\n"+n+"0\nENDSEC\n0\nEOF\n"}(r[d].slots)],{type:"application/dxf"}),n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download="parking_lot_layout.dxf",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n)},style:y,children:"Export Selected Model as DXF"})})]})]})}},9691:(e,n,t)=>{Promise.resolve().then(t.bind(t,2619))}},e=>{var n=n=>e(e.s=n);e.O(0,[441,684,358],()=>n(9691)),_N_E=e.O()}]);